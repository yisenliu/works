/*
 * RoyalSlider
 *
 * @version 9.4.8:
 *
 * Copyright 2011-2012, Dmitry Semenov
 *
 * - jquery.royalslider.js
 * - jquery.rs.thumbnails.js
 * - jquery.rs.fullscreen.js
 * - jquery.rs.global-caption.js
 *
 */
(function(k){function a(c,a){var d,h,b=this,e=navigator.userAgent.toLowerCase();b.uid=k.rsModules.uid++;b.ns=".rs"+b.uid;var f=document.createElement("div").style,j=["webkit","Moz","ms","O"],m="",l=0;for(d=0;d<j.length;d++)h=j[d],!m&&h+"Transform"in f&&(m=h),h=h.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||
(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),a=Math.max(0,16-(c-l)),d=window.setTimeout(function(){b(c+a)},a);l=c+a;return d});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(b){clearTimeout(b)});b.isIPAD=e.match(/(ipad)/);j=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];d=j[1]||"";h=j[2]||"0";
j={};d&&(j[d]=!0,j.version=h);j.chrome&&(j.webkit=!0);b._browser=j;b.isAndroid=-1<e.indexOf("android");b.slider=k(c);b.ev=k(b);b._doc=k(document);b.st=k.extend({},k.fn.royalSlider.defaults,a);b._currAnimSpeed=b.st.transitionSpeed;b._minPosOffset=0;if(b.st.allowCSS3&&(!j.webkit||b.st.allowCSS3OnWebkit))e=m+(m?"T":"t"),b._useCSS3Transitions=e+"ransform"in f&&e+"ransition"in f,b._useCSS3Transitions&&(b._use3dTransform=m+(m?"P":"p")+"erspective"in f);m=m.toLowerCase();b._vendorPref="-"+m+"-";b._slidesHorizontal=
"vertical"===b.st.slidesOrientation?!1:!0;b._reorderProp=b._slidesHorizontal?"left":"top";b._sizeProp=b._slidesHorizontal?"width":"height";b._prevNavItemId=-1;b._isMove="fade"===b.st.transitionType?!1:!0;b._isMove||(b.st.sliderDrag=!1,b._fadeZIndex=10);b._opacityCSS="z-index:0; display:none; opacity:0;";b._newSlideId=0;b._sPosition=0;b._nextSlidePos=0;k.each(k.rsModules,function(c,a){"uid"!==c&&a.call(b)});b.slides=[];b._idCount=0;(b.st.slides?k(b.st.slides):b.slider.children().detach()).each(function(){b._parseNode(this,
!0)});b.st.randomizeSlides&&b.slides.sort(function(){return 0.5-Math.random()});b.numSlides=b.slides.length;b._refreshNumPreloadImages();b.st.startSlideId?b.st.startSlideId>b.numSlides-1&&(b.st.startSlideId=b.numSlides-1):b.st.startSlideId=0;b._newSlideId=b.staticSlideId=b.currSlideId=b._realId=b.st.startSlideId;b.currSlide=b.slides[b.currSlideId];b._accelerationPos=0;b.msTouch=!1;b.slider.addClass((b._slidesHorizontal?"rsHor":"rsVer")+(b._isMove?"":" rsFade"));f='<div class="rsOverflow"><div class="rsContainer">';
b.slidesSpacing=b.st.slidesSpacing;b._slideSize=(b._slidesHorizontal?b.slider.width():b.slider.height())+b.st.slidesSpacing;b._preload=Boolean(0<b._numPreloadImages);1>=b.numSlides&&(b._loop=!1);b._loopHelpers=b._loop&&b._isMove?2===b.numSlides?1:2:0;b._maxImages=6>b.numSlides?b.numSlides:6;b._currBlockIndex=0;b._idOffset=0;b.slidesJQ=[];for(d=0;d<b.numSlides;d++)b.slidesJQ.push(k('<div style="'+(b._isMove?"":d!==b.currSlideId?b._opacityCSS:"z-index:0;")+'" class="rsSlide "></div>'));b._sliderOverflow=
f=k(f+"</div></div>");m=b.ns;b.msEnabled=window.navigator.msPointerEnabled;b.msEnabled?(b.msTouch=Boolean(1<window.navigator.msMaxTouchPoints),b.hasTouch=!1,b._lastItemFriction=0.2,b._downEvent="MSPointerDown"+m,b._moveEvent="MSPointerMove"+m,b._upEvent="MSPointerUp"+m,b._cancelEvent="MSPointerCancel"+m):(b._downEvent="mousedown"+m,b._moveEvent="mousemove"+m,b._upEvent="mouseup"+m,b._cancelEvent="mouseup"+m,"ontouchstart"in window||"createTouch"in document?(b.hasTouch=!0,b._downEvent+=" touchstart"+
m,b._moveEvent+=" touchmove"+m,b._upEvent+=" touchend"+m,b._cancelEvent+=" touchcancel"+m,b._lastItemFriction=0.5,b.st.sliderTouch&&(b._hasDrag=!0)):(b.hasTouch=!1,b._lastItemFriction=0.2));b.st.sliderDrag&&(b._hasDrag=!0,j.msie||j.opera?b._grabCursor=b._grabbingCursor="move":j.mozilla?(b._grabCursor="-moz-grab",b._grabbingCursor="-moz-grabbing"):j.webkit&&-1!=navigator.platform.indexOf("Mac")&&(b._grabCursor="-webkit-grab",b._grabbingCursor="-webkit-grabbing"),b._setGrabCursor());b.slider.html(f);
b._controlsContainer=b.st.controlsInside?b._sliderOverflow:b.slider;b._slidesContainer=b._sliderOverflow.children(".rsContainer");b.msEnabled&&b._slidesContainer.css("-ms-touch-action",b._slidesHorizontal?"pan-y":"pan-x");b._preloader=k('<div class="rsPreloader"></div>');f=b._slidesContainer.children(".rsSlide");b._currHolder=b.slidesJQ[b.currSlideId];b._selectedSlideHolder=0;b._useCSS3Transitions?(b._TP="transition-property",b._TD="transition-duration",b._TTF="transition-timing-function",b._yProp=
b._xProp=b._vendorPref+"transform",b._use3dTransform?(j.webkit&&!j.chrome&&b.slider.addClass("rsWebkit3d"),b._tPref1="translate3d(",b._tPref2="px, ",b._tPref3="px, 0px)"):(b._tPref1="translate(",b._tPref2="px, ",b._tPref3="px)"),b._isMove?b._slidesContainer[b._vendorPref+b._TP]=b._vendorPref+"transform":(m={},m[b._vendorPref+b._TP]="opacity",m[b._vendorPref+b._TD]=b.st.transitionSpeed+"ms",m[b._vendorPref+b._TTF]=b.st.css3easeInOut,f.css(m))):(b._xProp="left",b._yProp="top");var n;k(window).on("resize"+
b.ns,function(){n&&clearTimeout(n);n=setTimeout(function(){b.updateSliderSize()},50)});b.ev.trigger("rsAfterPropsSetup");b.updateSliderSize();b.st.keyboardNavEnabled&&b._bindKeyboardNav();if(b.st.arrowsNavHideOnTouch&&(b.hasTouch||b.msTouch))b.st.arrowsNav=!1;b.st.arrowsNav&&(f=b._controlsContainer,k('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(f),b._arrowLeft=f.children(".rsArrowLeft").click(function(c){c.preventDefault();
b.prev()}),b._arrowRight=f.children(".rsArrowRight").click(function(c){c.preventDefault();b.next()}),b.st.arrowsNavAutoHide&&!b.hasTouch&&(b._arrowLeft.addClass("rsHidden"),b._arrowRight.addClass("rsHidden"),f.one("mousemove.arrowshover",function(){b._arrowLeft.removeClass("rsHidden");b._arrowRight.removeClass("rsHidden")}),f.hover(function(){b._arrowsAutoHideLocked||(b._arrowLeft.removeClass("rsHidden"),b._arrowRight.removeClass("rsHidden"))},function(){b._arrowsAutoHideLocked||(b._arrowLeft.addClass("rsHidden"),
b._arrowRight.addClass("rsHidden"))})),b.ev.on("rsOnUpdateNav",function(){b._updateArrowsNav()}),b._updateArrowsNav());if(b._hasDrag)b._slidesContainer.on(b._downEvent,function(c){b._onDragStart(c)});else b.dragSuccess=!1;var p=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];b._slidesContainer.click(function(c){if(!b.dragSuccess){var a=k(c.target).attr("class");if(-1!==k.inArray(a,p)&&b.toggleVideo())return!1;if(b.st.navigateByClick&&!b._blockActions){if(k(c.target).closest(".rsNoDrag",
b._currHolder).length)return!0;b._mouseNext(c)}b.ev.trigger("rsSlideClick")}}).on("click.rs","a",function(){if(b.dragSuccess)return!1;b._blockActions=!0;setTimeout(function(){b._blockActions=!1},3)});b.ev.trigger("rsAfterInit")}k.rsModules||(k.rsModules={uid:0});a.prototype={constructor:a,_mouseNext:function(c){c=c[this._slidesHorizontal?"pageX":"pageY"]-this._sliderOffset;c>=this._nextSlidePos?this.next():0>c&&this.prev()},_refreshNumPreloadImages:function(){var c;c=this.st.numImagesToPreload;if(this._loop=
this.st.loop)2===this.numSlides?(this._loop=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._loop=!1);this._loop&&0<c&&(4>=this.numSlides?c=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(c=Math.floor((this.numSlides-1)/2)));this._numPreloadImages=c},_parseNode:function(c,a){function d(b,c){c?e.images.push(b.attr(c)):e.images.push(b.text());if(j){j=!1;e.caption="src"===c?b.attr("alt"):b.contents();e.image=e.images[0];e.videoURL=b.attr("data-rsVideo");var a=b.attr("data-rsw"),
d=b.attr("data-rsh");"undefined"!==typeof a&&!1!==a&&"undefined"!==typeof d&&!1!==d?(e.iW=parseInt(a),e.iH=parseInt(d)):h.st.imgWidth&&h.st.imgHeight&&(e.iW=h.st.imgWidth,e.iH=h.st.imgHeight)}}var h=this,b,e={},f,j=!0;c=k(c);h._currContent=c;h.ev.trigger("rsBeforeParseNode",[c,e]);if(!e.stopParsing)return c=h._currContent,e.id=h._idCount,e.contentAdded=!1,h._idCount++,e.images=[],e.isBig=!1,e.hasCover||(c.hasClass("rsImg")?(f=c,b=!0):(f=c.find(".rsImg"),f.length&&(b=!0)),b?(e.bigImage=f.eq(0).attr("data-rsBigImg"),
f.each(function(){var b=k(this);b.is("a")?d(b,"href"):b.is("img")?d(b,"src"):d(b)})):c.is("img")&&(c.addClass("rsImg rsMainSlideImage"),d(c,"src"))),f=c.find(".rsCaption"),f.length&&(e.caption=f.remove()),e.content=c,h.ev.trigger("rsAfterParseNode",[c,e]),a&&h.slides.push(e),0===e.images.length&&(e.isLoaded=!0,e.isRendered=!1,e.isLoading=!1,e.images=null),e},_bindKeyboardNav:function(){var c=this,a,d,h=function(b){37===b?c.prev():39===b&&c.next()};c._doc.on("keydown"+c.ns,function(b){if(!c._isDragging&&
(d=b.keyCode,(37===d||39===d)&&!a))h(d),a=setInterval(function(){h(d)},700)}).on("keyup"+c.ns,function(){a&&(clearInterval(a),a=null)})},goTo:function(c,a){c!==this.currSlideId&&this._moveTo(c,this.st.transitionSpeed,!0,!a)},destroy:function(c){this.ev.trigger("rsBeforeDestroy");this._doc.off("keydown"+this.ns+" keyup"+this.ns+" "+this._moveEvent+" "+this._upEvent);this._slidesContainer.off(this._downEvent+" click");this.slider.data("royalSlider",null);k.removeData(this.slider,"royalSlider");k(window).off("resize"+
this.ns);c&&this.slider.remove();this.ev=this.slider=this.slides=null},_updateBlocksContent:function(c,a){function d(b,a,d){b.isAdded?(b.contentAdded||(e.setItemHtml(b,c),c||(b.contentAdded=!0)),h(a,b)):(d||(d=e.slidesJQ[a]),b.holder?d=b.holder:(d=e.slidesJQ[a]=k(d),b.holder=d),b.appendOnLoaded=!1,h(a,b,d),b.contentAdded||(e.setItemHtml(b,c),c||(b.contentAdded=!0)),e._addBlockToContainer(b,d,c),appended=b.isAdded=!0)}function h(b,a,c){e._isMove&&(c||(c=e.slidesJQ[b]),c.css(e._reorderProp,(b+e._idOffset+
p)*e._slideSize))}function b(c){if(m){if(c>l-1)return b(c-l);if(0>c)return b(l+c)}return c}var e=this,f,j,m=e._loop,l=e.numSlides;if(!isNaN(a))return b(a);var n=e.currSlideId,p,q=c?Math.abs(e._prevSlideId-e.currSlideId)>=e.numSlides-1?0:1:e._numPreloadImages,r=Math.min(2,q),u=!1,t=!1,s;for(j=n;j<n+1+r;j++)if(s=b(j),(f=e.slides[s])&&(!f.isAdded||!f.positionSet)){u=!0;break}for(j=n-1;j>n-1-r;j--)if(s=b(j),(f=e.slides[s])&&(!f.isAdded||!f.positionSet)){t=!0;break}if(u)for(j=n;j<n+q+1;j++)s=b(j),p=Math.floor((e._realId-
(n-j))/e.numSlides)*e.numSlides,(f=e.slides[s])&&d(f,s);if(t)for(j=n-1;j>n-1-q;j--)s=b(j),p=Math.floor((e._realId-(n-j))/l)*l,(f=e.slides[s])&&d(f,s);if(!c){r=b(n-q);n=b(n+q);q=r>n?0:r;for(j=0;j<l;j++)if(!(r>n&&j>r-1)&&(j<q||j>n))if((f=e.slides[j])&&f.holder)f.holder.detach(),f.isAdded=!1}},setItemHtml:function(c,a){function d(){if(c.images){if(!c.isLoading){var b,a;c.content.hasClass("rsImg")?(b=c.content,a=!0):b=c.content.find(".rsImg:not(img)");b&&!b.is("img")&&b.each(function(){var b=k(this),
d='<img class="rsImg" src="'+(b.is("a")?b.attr("href"):b.text())+'" />';a?c.content=k(d):b.replaceWith(d)});b=a?c.content:c.content.find("img.rsImg");j();b.eq(0).addClass("rsMainSlideImage");c.iW&&c.iH&&(c.isLoaded||l._resizeImage(c),e());c.isLoading=!0;if(c.isBig)k("<img />").on("load.rs error.rs",function(){h([this],!0)}).attr("src",c.image);else{c.loaded=[];c.imgLoaders=[];for(b=0;b<c.images.length;b++){var d=k("<img />");c.imgLoaders.push(this);d.on("load.rs error.rs",function(){c.loaded.push(this);
c.loaded.length===c.imgLoaders.length&&h(c.loaded,!1)}).attr("src",c.images[b])}}}}else c.isRendered=!0,c.isLoaded=!0,c.isLoading=!1,e(!0)}function h(a,d){if(a.length){var e=a[0];if(d!==c.isBig)(e=c.holder.children())&&1<e.length&&m();else if(c.iW&&c.iH)b();else if(c.iW=e.width,c.iH=e.height,c.iW&&c.iH)b();else{var f=new Image;f.onload=function(){f.width?(c.iW=f.width,c.iH=f.height,b()):setTimeout(function(){f.width&&(c.iW=f.width,c.iH=f.height);b()},1E3)};f.src=e.src}}else b()}function b(){c.isLoaded=
!0;c.isLoading=!1;e();m();f()}function e(){if(!c.isAppended){var b=l.st.visibleNearby,d=c.id-l._newSlideId;if(!a&&!c.appendOnLoaded&&l.st.fadeinLoadedSlide&&(0===d||(b||l._isAnimating||l._isDragging)&&(-1===d||1===d)))b={visibility:"visible",opacity:0},b[l._vendorPref+"transition"]="opacity 400ms ease-in-out",c.content.css(b),setTimeout(function(){c.content.css("opacity",1)},16);c.holder.find(".rsPreloader").length?c.holder.append(c.content):c.holder.html(c.content);c.isAppended=!0;c.isLoaded&&(l._resizeImage(c),
f());c.sizeReady||(c.sizeReady=!0,setTimeout(function(){l.ev.trigger("rsMaybeSizeReady",c)},100))}}function f(){c.loadedTriggered||(c.isLoaded=c.loadedTriggered=!0,c.holder.trigger("rsAfterContentSet"),l.ev.trigger("rsAfterContentSet",c))}function j(){l.st.usePreloader&&c.holder.html(l._preloader.clone())}function m(){if(l.st.usePreloader){var b=c.holder.find(".rsPreloader");b.length&&b.remove()}}var l=this;c.isLoaded?e():a?!l._isMove&&c.images&&c.iW&&c.iH?d():(c.holder.isWaiting=!0,j(),c.holder.slideId=
-99):d()},_addBlockToContainer:function(a){this._slidesContainer.append(a.holder);a.appendOnLoaded=!1},_onDragStart:function(a,g){var d=this,h,b="touchstart"===a.type;d._isTouchGesture=b;d.ev.trigger("rsDragStart");if(k(a.target).closest(".rsNoDrag",d._currHolder).length)return d.dragSuccess=!1,!0;!g&&d._isAnimating&&(d._wasAnimating=!0,d._stopAnimation());d.dragSuccess=!1;if(d._isDragging)b&&(d._multipleTouches=!0);else{b&&(d._multipleTouches=!1);d._setGrabbingCursor();if(b){var e=a.originalEvent.touches;
if(e&&0<e.length)h=e[0],1<e.length&&(d._multipleTouches=!0);else return}else a.preventDefault(),h=a,d.msEnabled&&(h=h.originalEvent);d._isDragging=!0;d._doc.on(d._moveEvent,function(b){d._onDragMove(b,g)}).on(d._upEvent,function(b){d._onDragRelease(b,g)});d._currMoveAxis="";d._hasMoved=!1;d._pageX=h.pageX;d._pageY=h.pageY;d._startPagePos=d._accelerationPos=(!g?d._slidesHorizontal:d._thumbsHorizontal)?h.pageX:h.pageY;d._horDir=0;d._verDir=0;d._currRenderPosition=!g?d._sPosition:d._thumbsPosition;d._startTime=
(new Date).getTime();if(b)d._sliderOverflow.on(d._cancelEvent,function(b){d._onDragRelease(b,g)})}},_renderMovement:function(a,g){if(this._checkedAxis){var d=this._renderMoveTime,h=a.pageX-this._pageX,b=a.pageY-this._pageY,e=this._currRenderPosition+h,f=this._currRenderPosition+b,j=!g?this._slidesHorizontal:this._thumbsHorizontal,e=j?e:f,f=this._currMoveAxis;this._hasMoved=!0;this._pageX=a.pageX;this._pageY=a.pageY;"x"===f&&0!==h?this._horDir=0<h?1:-1:"y"===f&&0!==b&&(this._verDir=0<b?1:-1);f=j?this._pageX:
this._pageY;h=j?h:b;g?e>this._thumbsMinPosition?e=this._currRenderPosition+h*this._lastItemFriction:e<this._thumbsMaxPosition&&(e=this._currRenderPosition+h*this._lastItemFriction):this._loop||(0>=this.currSlideId&&0<f-this._startPagePos&&(e=this._currRenderPosition+h*this._lastItemFriction),this.currSlideId>=this.numSlides-1&&0>f-this._startPagePos&&(e=this._currRenderPosition+h*this._lastItemFriction));this._currRenderPosition=e;200<d-this._startTime&&(this._startTime=d,this._accelerationPos=f);
g?this._setThumbsPosition(this._currRenderPosition):this._isMove&&this._setPosition(this._currRenderPosition)}},_onDragMove:function(a,g){var d=this,h,b="touchmove"===a.type;if(!d._isTouchGesture||b){if(b){if(d._lockAxis)return;var e=a.originalEvent.touches;if(e){if(1<e.length)return;h=e[0]}else return}else h=a,d.msEnabled&&(h=h.originalEvent);d._hasMoved||(d._useCSS3Transitions&&(!g?d._slidesContainer:d._thumbsContainer).css(d._vendorPref+d._TD,"0s"),function j(){d._isDragging&&(d._animFrame=requestAnimationFrame(j),
d._renderMoveEvent&&d._renderMovement(d._renderMoveEvent,g))}());if(d._checkedAxis)a.preventDefault(),d._renderMoveTime=(new Date).getTime(),d._renderMoveEvent=h;else if(e=!g?d._slidesHorizontal:d._thumbsHorizontal,h=Math.abs(h.pageX-d._pageX)-Math.abs(h.pageY-d._pageY)-(e?-7:7),7<h){if(e)a.preventDefault(),d._currMoveAxis="x";else if(b){d._completeGesture();return}d._checkedAxis=!0}else if(-7>h){if(e){if(b){d._completeGesture();return}}else a.preventDefault(),d._currMoveAxis="y";d._checkedAxis=!0}}},
_completeGesture:function(){this._lockAxis=!0;this._hasMoved=this._isDragging=!1;this._onDragRelease()},_onDragRelease:function(a,g){function d(b){return 100>b?100:500<b?500:b}function h(a,c){if(b._isMove||g)j=(-b._realId-b._idOffset)*b._slideSize,m=Math.abs(b._sPosition-j),b._currAnimSpeed=m/c,a&&(b._currAnimSpeed+=250),b._currAnimSpeed=d(b._currAnimSpeed),b._animateTo(j,!1)}var b=this,e,f,j,m;f="touchend"===a.type||"touchcancel"===a.type;if(!b._isTouchGesture||f)if(b._isTouchGesture=!1,b.ev.trigger("rsDragRelease"),
b._renderMoveEvent=null,b._isDragging=!1,b._lockAxis=!1,b._checkedAxis=!1,b._renderMoveTime=0,cancelAnimationFrame(b._animFrame),b._hasMoved&&(g?b._setThumbsPosition(b._currRenderPosition):b._isMove&&b._setPosition(b._currRenderPosition)),b._doc.off(b._moveEvent).off(b._upEvent),f&&b._sliderOverflow.off(b._cancelEvent),b._setGrabCursor(),!b._hasMoved&&!b._multipleTouches&&g&&b._thumbsEnabled){var l=k(a.target).closest(".rsNavItem");l.length&&b.goTo(l.index())}else{e=!g?b._slidesHorizontal:b._thumbsHorizontal;
if(!b._hasMoved||"y"===b._currMoveAxis&&e||"x"===b._currMoveAxis&&!e)if(!g&&b._wasAnimating){b._wasAnimating=!1;if(b.st.navigateByClick){b._mouseNext(b.msEnabled?a.originalEvent:a);b.dragSuccess=!0;return}b.dragSuccess=!0}else{b._wasAnimating=!1;b.dragSuccess=!1;return}else b.dragSuccess=!0;b._wasAnimating=!1;b._currMoveAxis="";var n=b.st.minSlideOffset;f=f?a.originalEvent.changedTouches[0]:b.msEnabled?a.originalEvent:a;var p=e?f.pageX:f.pageY,q=b._startPagePos;f=b._accelerationPos;var r=b.currSlideId,
u=b.numSlides,t=e?b._horDir:b._verDir,s=b._loop;Math.abs(p-q);e=p-f;f=(new Date).getTime()-b._startTime;f=Math.abs(e)/f;if(0===t||1>=u)h(!0,f);else{if(!s&&!g)if(0>=r){if(0<t){h(!0,f);return}}else if(r>=u-1&&0>t){h(!0,f);return}if(g){j=b._thumbsPosition;if(j>b._thumbsMinPosition)j=b._thumbsMinPosition;else if(j<b._thumbsMaxPosition)j=b._thumbsMaxPosition;else{n=f*f/0.006;l=-b._thumbsPosition;p=b._thumbsContainerSize-b._thumbsViewportSize+b._thumbsPosition;0<e&&n>l?(l+=b._thumbsViewportSize/(15/(0.003*
(n/f))),f=f*l/n,n=l):0>e&&n>p&&(p+=b._thumbsViewportSize/(15/(0.003*(n/f))),f=f*p/n,n=p);l=Math.max(Math.round(f/0.003),50);j+=n*(0>e?-1:1);if(j>b._thumbsMinPosition){b._animateThumbsTo(j,l,!0,b._thumbsMinPosition,200);return}if(j<b._thumbsMaxPosition){b._animateThumbsTo(j,l,!0,b._thumbsMaxPosition,200);return}}b._animateThumbsTo(j,l,!0)}else q+n<p?0>t?h(!1,f):b._moveTo("prev",d(Math.abs(b._sPosition-(-b._realId-b._idOffset+1)*b._slideSize)/f),!1,!0,!0):q-n>p?0<t?h(!1,f):b._moveTo("next",d(Math.abs(b._sPosition-
(-b._realId-b._idOffset-1)*b._slideSize)/f),!1,!0,!0):h(!1,f)}}},_setPosition:function(a){a=this._sPosition=a;this._useCSS3Transitions?this._slidesContainer.css(this._xProp,this._tPref1+(this._slidesHorizontal?a+this._tPref2+0:0+this._tPref2+a)+this._tPref3):this._slidesContainer.css(this._slidesHorizontal?this._xProp:this._yProp,a)},updateSliderSize:function(a){var g,d;if(this.st.autoScaleSlider){var h=this.st.autoScaleSliderWidth,b=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(g=this.slider.width(),
g!=this.width&&(this.slider.css("height",g*(b/h)),g=this.slider.width()),d=this.slider.height()):(d=this.slider.height(),d!=this.height&&(this.slider.css("width",d*(h/b)),d=this.slider.height()),g=this.slider.width())}else g=this.slider.width(),d=this.slider.height();if(a||g!=this.width||d!=this.height){this.width=g;this.height=d;this._wrapWidth=g;this._wrapHeight=d;this.ev.trigger("rsBeforeSizeSet");this.ev.trigger("rsAfterSizePropSet");this._sliderOverflow.css({width:this._wrapWidth,height:this._wrapHeight});
this._slideSize=(this._slidesHorizontal?this._wrapWidth:this._wrapHeight)+this.st.slidesSpacing;this._imagePadding=this.st.imageScalePadding;for(g=0;g<this.slides.length;g++)a=this.slides[g],a.positionSet=!1,a&&a.images&&a.isLoaded&&(a.isRendered=!1,this._resizeImage(a));if(this._cloneHolders)for(g=0;g<this._cloneHolders.length;g++)a=this._cloneHolders[g],a.holder.css(this._reorderProp,(a.id+this._idOffset)*this._slideSize);this._updateBlocksContent();this._isMove&&(this._useCSS3Transitions&&this._slidesContainer.css(this._vendorPref+
"transition-duration","0s"),this._setPosition((-this._realId-this._idOffset)*this._slideSize));this.ev.trigger("rsOnUpdateNav")}this._sliderOffset=this._sliderOverflow.offset();this._sliderOffset=this._sliderOffset[this._reorderProp]},appendSlide:function(a,g){var d=this._parseNode(a);if(isNaN(g)||g>this.numSlides)g=this.numSlides;this.slides.splice(g,0,d);this.slidesJQ.splice(g,0,'<div style="'+(this._isMove?"position:absolute;":this._opacityCSS)+'" class="rsSlide"></div>');g<this.currSlideId&&this.currSlideId++;
this.ev.trigger("rsOnAppendSlide",[d,g]);this._refreshSlides(g);g===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(a){var g=this.slides[a];g&&(g.holder&&g.holder.remove(),a<this.currSlideId&&this.currSlideId--,this.slides.splice(a,1),this.slidesJQ.splice(a,1),this.ev.trigger("rsOnRemoveSlide",[a]),this._refreshSlides(a),a===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_refreshSlides:function(){var a=this,g=a.numSlides,g=0>=a._realId?0:Math.floor(a._realId/
g);a.numSlides=a.slides.length;0===a.numSlides?(a.currSlideId=a._idOffset=a._realId=0,a.currSlide=a._oldHolder=null):a._realId=g*a.numSlides+a.currSlideId;for(g=0;g<a.numSlides;g++)a.slides[g].id=g;a.currSlide=a.slides[a.currSlideId];a._currHolder=a.slidesJQ[a.currSlideId];a.currSlideId>=a.numSlides?a.goTo(a.numSlides-1):0>a.currSlideId&&a.goTo(0);a._refreshNumPreloadImages();a._isMove&&a._loop&&a._slidesContainer.css(a._vendorPref+a._TD,"0ms");a._refreshSlidesTimeout&&clearTimeout(a._refreshSlidesTimeout);
a._refreshSlidesTimeout=setTimeout(function(){a._isMove&&a._setPosition((-a._realId-a._idOffset)*a._slideSize);a._updateBlocksContent();a._isMove||a._currHolder.css({display:"block",opacity:1})},14);a.ev.trigger("rsOnUpdateNav")},_setGrabCursor:function(){this._hasDrag&&this._isMove&&(this._grabCursor?this._sliderOverflow.css("cursor",this._grabCursor):(this._sliderOverflow.removeClass("grabbing-cursor"),this._sliderOverflow.addClass("grab-cursor")))},_setGrabbingCursor:function(){this._hasDrag&&
this._isMove&&(this._grabbingCursor?this._sliderOverflow.css("cursor",this._grabbingCursor):(this._sliderOverflow.removeClass("grab-cursor"),this._sliderOverflow.addClass("grabbing-cursor")))},next:function(a){this._moveTo("next",this.st.transitionSpeed,!0,!a)},prev:function(a){this._moveTo("prev",this.st.transitionSpeed,!0,!a)},_moveTo:function(a,g,d,h,b){var e=this,f,j,k;e.ev.trigger("rsBeforeMove",[a,h]);newItemId="next"===a?e.currSlideId+1:"prev"===a?e.currSlideId-1:a=parseInt(a,10);if(!e._loop){if(0>
newItemId){e._doBackAndForthAnim("left",!h);return}if(newItemId>=e.numSlides){e._doBackAndForthAnim("right",!h);return}}e._isAnimating&&(e._stopAnimation(!0),d=!1);j=newItemId-e.currSlideId;k=e._prevSlideId=e.currSlideId;var l=e.currSlideId+j;h=e._realId;var n;e._loop?(l=e._updateBlocksContent(!1,l),h+=j):h=l;e._newSlideId=l;e._oldHolder=e.slidesJQ[e.currSlideId];e._realId=h;e.currSlideId=e._newSlideId;e.currSlide=e.slides[e.currSlideId];e._currHolder=e.slidesJQ[e.currSlideId];var l=e.st.slidesDiff,
p=Boolean(0<j);j=Math.abs(j);var q=Math.floor(k/e._numPreloadImages),r=Math.floor((k+(p?l:-l))/e._numPreloadImages),q=(p?Math.max(q,r):Math.min(q,r))*e._numPreloadImages+(p?e._numPreloadImages-1:0);q>e.numSlides-1?q=e.numSlides-1:0>q&&(q=0);k=p?q-k:k-q;k>e._numPreloadImages&&(k=e._numPreloadImages);if(j>k+l){e._idOffset+=(j-(k+l))*(p?-1:1);g*=1.4;for(k=0;k<e.numSlides;k++)e.slides[k].positionSet=!1}e._currAnimSpeed=g;e._updateBlocksContent(!0);b||(n=!0);f=(-h-e._idOffset)*e._slideSize;n?setTimeout(function(){e._isWorking=
!1;e._animateTo(f,a,!1,d);e.ev.trigger("rsOnUpdateNav")},0):(e._animateTo(f,a,!1,d),e.ev.trigger("rsOnUpdateNav"))},_updateArrowsNav:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._arrowLeft.css("display","none"),this._arrowRight.css("display","none")):(this._arrowLeft.css("display","block"),this._arrowRight.css("display","block"),!this._loop&&!this.st.loopRewind&&(0===this.currSlideId?this._arrowLeft.addClass("rsArrowDisabled"):this._arrowLeft.removeClass("rsArrowDisabled"),this.currSlideId===
this.numSlides-1?this._arrowRight.addClass("rsArrowDisabled"):this._arrowRight.removeClass("rsArrowDisabled"))))},_animateTo:function(a,g,d,h,b){function e(){var a;if(j&&(a=j.data("rsTimeout")))j!==m&&j.css({opacity:0,display:"none",zIndex:0}),clearTimeout(a),j.data("rsTimeout","");if(a=m.data("rsTimeout"))clearTimeout(a),m.data("rsTimeout","")}var f=this,j,m,l={};isNaN(f._currAnimSpeed)&&(f._currAnimSpeed=400);f._sPosition=f._currRenderPosition=a;f.ev.trigger("rsBeforeAnimStart");f._useCSS3Transitions?
f._isMove?(f._currAnimSpeed=parseInt(f._currAnimSpeed),d=f._vendorPref+f._TTF,l[f._vendorPref+f._TD]=f._currAnimSpeed+"ms",l[d]=h?k.rsCSS3Easing[f.st.easeInOut]:k.rsCSS3Easing[f.st.easeOut],f._slidesContainer.css(l),h||!f.hasTouch?setTimeout(function(){f._setPosition(a)},5):f._setPosition(a)):(f._currAnimSpeed=f.st.transitionSpeed,j=f._oldHolder,m=f._currHolder,m.data("rsTimeout")&&m.css("opacity",0),e(),j&&j.data("rsTimeout",setTimeout(function(){l[f._vendorPref+f._TD]="0ms";l.zIndex=0;l.display=
"none";j.data("rsTimeout","");j.css(l);setTimeout(function(){j.css("opacity",0)},16)},f._currAnimSpeed+60)),l.display="block",l.zIndex=f._fadeZIndex,l.opacity=0,l[f._vendorPref+f._TD]="0ms",l[f._vendorPref+f._TTF]=k.rsCSS3Easing[f.st.easeInOut],m.css(l),m.data("rsTimeout",setTimeout(function(){m.css(f._vendorPref+f._TD,f._currAnimSpeed+"ms");m.data("rsTimeout",setTimeout(function(){m.css("opacity",1);m.data("rsTimeout","")},20))},20))):f._isMove?(l[f._slidesHorizontal?f._xProp:f._yProp]=a+"px",f._slidesContainer.animate(l,
f._currAnimSpeed,h?f.st.easeInOut:f.st.easeOut)):(j=f._oldHolder,m=f._currHolder,m.stop(!0,!0).css({opacity:0,display:"block",zIndex:f._fadeZIndex}),f._currAnimSpeed=f.st.transitionSpeed,m.animate({opacity:1},f._currAnimSpeed,f.st.easeInOut),e(),j&&j.data("rsTimeout",setTimeout(function(){j.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},f._currAnimSpeed+60)));f._isAnimating=!0;f.loadingTimeout&&clearTimeout(f.loadingTimeout);f.loadingTimeout=b?setTimeout(function(){f.loadingTimeout=null;b.call()},
f._currAnimSpeed+60):setTimeout(function(){f.loadingTimeout=null;f._animationComplete(g)},f._currAnimSpeed+60)},_stopAnimation:function(a){this._isAnimating=!1;clearTimeout(this.loadingTimeout);if(this._isMove)if(this._useCSS3Transitions){if(!a){a=this._sPosition;var g=this._currRenderPosition=this._getTransformProp();this._slidesContainer.css(this._vendorPref+this._TD,"0ms");a!==g&&this._setPosition(g)}}else this._slidesContainer.stop(!0),this._sPosition=parseInt(this._slidesContainer.css(this._xProp),
10);else 20<this._fadeZIndex?this._fadeZIndex=10:this._fadeZIndex++},_getTransformProp:function(){var a=window.getComputedStyle(this._slidesContainer.get(0),null).getPropertyValue(this._vendorPref+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),g=0===a[0].indexOf("matrix3d");return parseInt(a[this._slidesHorizontal?g?12:4:g?13:5],10)},_getCSS3Prop:function(a,g){return this._useCSS3Transitions?this._tPref1+(g?a+this._tPref2+0:0+this._tPref2+a)+this._tPref3:a},_animationComplete:function(){this._isMove||
(this._currHolder.css("z-index",0),this._fadeZIndex=10);this._isAnimating=!1;this.staticSlideId=this.currSlideId;this._updateBlocksContent();this._slidesMoved=!1;this.ev.trigger("rsAfterSlideChange")},_doBackAndForthAnim:function(a,g){var d=this,h=(-d._realId-d._idOffset)*d._slideSize;if(!(0===d.numSlides||d._isAnimating))if(d.st.loopRewind)d.goTo("left"===a?d.numSlides-1:0,g);else if(d._isMove){d._currAnimSpeed=200;var b=function(){d._isAnimating=!1};d._animateTo(h+("left"===a?30:-30),"",!1,!0,function(){d._isAnimating=
!1;d._animateTo(h,"",!1,!0,b)})}},_resizeImage:function(a){if(!a.isRendered){var g=a.content,d="rsMainSlideImage",h,b=this.st.imageAlignCenter,e=this.st.imageScaleMode,f;a.videoURL&&(d="rsVideoContainer","fill"!==e?h=!0:(f=g,f.hasClass(d)||(f=f.find("."+d)),f.css({width:"100%",height:"100%"}),d="rsMainSlideImage"));g.hasClass(d)||(g=g.find("."+d));if(g){var j=a.iW,d=a.iH;a.isRendered=!0;if("none"!==e||b){bMargin="fill"!==e?this._imagePadding:0;a=this._wrapWidth-2*bMargin;f=this._wrapHeight-2*bMargin;
var k,l,n={};if("fit-if-smaller"===e&&(j>a||d>f))e="fit";if("fill"===e||"fit"===e)k=a/j,l=f/d,k="fill"==e?k>l?k:l:"fit"==e?k<l?k:l:1,j=Math.ceil(j*k,10),d=Math.ceil(d*k,10);"none"!==e&&(n.width=j,n.height=d,h&&g.find(".rsImg").css({width:"100%",height:"100%"}));b&&(n.marginLeft=Math.floor((a-j)/2)+bMargin,n.marginTop=Math.floor((f-d)/2)+bMargin);g.css(n)}}}}};k.rsProto=a.prototype;k.fn.royalSlider=function(c){var g=arguments;return this.each(function(){var d=k(this);if("object"===typeof c||!c)d.data("royalSlider")||
d.data("royalSlider",new a(d,c));else if((d=d.data("royalSlider"))&&d[c])return d[c].apply(d,Array.prototype.slice.call(g,1))})};k.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,
allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2};k.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"};k.extend(jQuery.easing,
{easeInOutSine:function(a,g,d,h,b){return-h/2*(Math.cos(Math.PI*g/b)-1)+d},easeOutSine:function(a,g,d,h,b){return h*Math.sin(g/b*(Math.PI/2))+d},easeOutCubic:function(a,g,d,h,b){return h*((g=g/b-1)*g*g+1)+d}})})(jQuery,window);
(function(k){k.extend(k.rsProto,{_initThumbs:function(){var a=this;"thumbnails"===a.st.controlNavigation&&(a._thumbsDefaults={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,columns:1,rows:1,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},a.st.thumbs=k.extend({},a._thumbsDefaults,a.st.thumbs),a._firstThumbMoved=!0,!1===a.st.thumbs.firstMargin?a.st.thumbs.firstMargin=
0:!0===a.st.thumbs.firstMargin&&(a.st.thumbs.firstMargin=a.st.thumbs.spacing),a.ev.on("rsBeforeParseNode",function(a,g,d){g=k(g);d.thumbnail=g.find(".rsTmb").remove();d.thumbnail.length?d.thumbnail=k(document.createElement("div")).append(d.thumbnail).html():(d.thumbnail=g.attr("data-rsTmb"),d.thumbnail||(d.thumbnail=g.find(".rsImg").attr("data-rsTmb")),d.thumbnail=d.thumbnail?'<img src="'+d.thumbnail+'"/>':"")}),a.ev.one("rsAfterPropsSetup",function(){a._createThumbs()}),a._prevNavItem=null,a.ev.on("rsOnUpdateNav",
function(){var c=k(a._controlNavItems[a.currSlideId]);c!==a._prevNavItem&&(a._prevNavItem&&(a._prevNavItem.removeClass("rsNavSelected"),a._prevNavItem=null),a._thumbsNavigation&&a._setCurrentThumb(a.currSlideId),a._prevNavItem=c.addClass("rsNavSelected"))}),a.ev.on("rsOnAppendSlide",function(c,g,d){c="<div"+a._thumbsMargin+' class="rsNavItem rsThumb">'+a._addThumbHTML+g.thumbnail+"</div>";d>=a.numSlides?a._thumbsContainer.append(c):a._controlNavItems.eq(d).before(c);a._controlNavItems=a._thumbsContainer.children();
a.updateThumbsSize()}),a.ev.on("rsOnRemoveSlide",function(c,g){var d=a._controlNavItems.eq(g);d&&(d.remove(),a._controlNavItems=a._thumbsContainer.children(),a.updateThumbsSize())}))},_createThumbs:function(){var a=this,c="rsThumbs",g=a.st.thumbs,d="",h,b,e=g.spacing;a._controlNavEnabled=!0;a._thumbsHorizontal="vertical"===g.orientation?!1:!0;a._thumbGrid=a._thumbsHorizontal?g.rows:g.columns;gridMargins=a._thumbGrid?" margin-"+(a._thumbsHorizontal?"top":"left")+":"+e+"px;":"";a._thumbsMargin=h=e?
' style="margin-'+(a._thumbsHorizontal?"right":"bottom")+":"+e+"px;"+gridMargins+'"':"";a._thumbsPosition=0;a._isThumbsAnimating=!1;a._thumbsDrag=!1;a._thumbsNavigation=!1;a._thumbsArrows=g.arrows&&g.navigation;b=a._thumbsHorizontal?"Hor":"Ver";a.slider.addClass("rsWithThumbs rsWithThumbs"+b);d+='<div class="rsNav rsThumbs rsThumbs'+b+'"><div class="'+c+'Container">';a._addThumbHTML=g.appendSpan?'<span class="thumbIco"></span>':"";for(var f=0;f<a.numSlides;f++)b=a.slides[f],d+="<div"+h+' class="rsNavItem rsThumb">'+
b.thumbnail+a._addThumbHTML+"</div>";d=k(d+"</div></div>");h={};g.paddingTop&&(h[a._thumbsHorizontal?"paddingTop":"paddingLeft"]=g.paddingTop);g.paddingBottom&&(h[a._thumbsHorizontal?"paddingBottom":"paddingRight"]=g.paddingBottom);d.css(h);a._thumbsContainer=k(d).find("."+c+"Container");a._thumbsArrows&&(c+="Arrow",h=a._thumbsHorizontal?"height:auto; top:"+(g.paddingTop+e)+"px; bottom:"+g.paddingBottom+"px;":"width:auto; left:"+(g.paddingTop+e)+"px; right:"+g.paddingBottom+"px;",g.arrowLeft?a._thumbsArrowLeft=
g.arrowLeft:(a._thumbsArrowLeft=k('<div class="'+c+" "+c+'Left" style="'+h+'"><div class="'+c+'Icn"></div></div>'),d.append(a._thumbsArrowLeft)),g.arrowRight?a._thumbsArrowRight=g.arrowRight:(a._thumbsArrowRight=k('<div class="'+c+" "+c+'Right" style="'+h+'"><div class="'+c+'Icn"></div></div>'),d.append(a._thumbsArrowRight)),a._thumbsArrowLeft.click(function(){Math.ceil(a._thumbsViewportSize/(a._thumbSize/a._thumbGrid));var b=(Math.ceil(a._thumbsPosition/(a._thumbSize/a._thumbGrid))+a._visibleThumbsPerView)*
(a._thumbSize/a._thumbGrid);a._animateThumbsTo(b>a._thumbsMinPosition?a._thumbsMinPosition:b)}),a._thumbsArrowRight.click(function(){Math.ceil(a._thumbsViewportSize/(a._thumbSize/a._thumbGrid));var b=(Math.ceil(a._thumbsPosition/(a._thumbSize/a._thumbGrid))-a._visibleThumbsPerView)*(a._thumbSize/a._thumbGrid);a._animateThumbsTo(b<a._thumbsMaxPosition?a._thumbsMaxPosition:b)}),g.arrowsAutoHide&&!a.hasTouch&&(a._thumbsArrowLeft.css("opacity",0),a._thumbsArrowRight.css("opacity",0),d.one("mousemove.rsarrowshover",
function(){a._thumbsNavigation&&(a._thumbsArrowLeft.css("opacity",1),a._thumbsArrowRight.css("opacity",1))}),d.hover(function(){a._thumbsNavigation&&(a._thumbsArrowLeft.css("opacity",1),a._thumbsArrowRight.css("opacity",1))},function(){a._thumbsNavigation&&(a._thumbsArrowLeft.css("opacity",0),a._thumbsArrowRight.css("opacity",0))})));a._controlNav=d;a._controlNavItems=a._thumbsContainer.children();a.msEnabled&&a.st.thumbs.navigation&&a._thumbsContainer.css("-ms-touch-action",a._thumbsHorizontal?"pan-y":
"pan-x");a.slider.append(d);a._thumbsEnabled=!0;a._thumbsSpacing=e;g.navigation&&a._useCSS3Transitions&&a._thumbsContainer.css(a._vendorPref+"transition-property",a._vendorPref+"transform");a._controlNav.on("click.rs",".rsNavItem",function(){a._thumbsDrag||a.goTo(k(this).index())});a.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){a._realWrapSize=a._thumbsHorizontal?a._wrapHeight:a._wrapWidth;a.updateThumbsSize(!0)})},updateThumbsSize:function(){var a=this,c=a._controlNavItems.first(),
g={},d=a._controlNavItems.length;a._thumbSize=(a._thumbsHorizontal?c.outerWidth():c.outerHeight())+a._thumbsSpacing;a._gridSize=(a._thumbsHorizontal?c.outerHeight():c.outerWidth())+a._thumbsSpacing;c={};c[a._thumbsHorizontal?"height":"width"]=a._gridSize*a._thumbGrid;a._controlNav.css(c);a._numGridThumbs=Math.ceil(1<a._thumbGrid?(d%2?d+1:d)/a._thumbGrid:d);a._thumbsContainerSize=a._numGridThumbs*a._thumbSize-a._thumbsSpacing;g[a._thumbsHorizontal?"width":"height"]=a._thumbsContainerSize+a._thumbsSpacing;
a._thumbsViewportSize=a._thumbsHorizontal?a._controlNav.width():a._controlNav.height();a._thumbsMaxPosition=-(a._thumbsContainerSize-a._thumbsViewportSize)-a.st.thumbs.firstMargin;a._thumbsMinPosition=a.st.thumbs.firstMargin;a._visibleThumbsPerView=Math.floor(a._thumbsViewportSize/a._thumbSize)*a._thumbGrid;if(a._thumbsContainerSize<a._thumbsViewportSize)a.st.thumbs.autoCenter&&a._setThumbsPosition((a._thumbsViewportSize-a._thumbsContainerSize)/2),a.st.thumbs.arrows&&a._thumbsArrowLeft&&(a._thumbsArrowLeft.addClass("rsThumbsArrowDisabled"),
a._thumbsArrowRight.addClass("rsThumbsArrowDisabled")),a._thumbsNavigation=!1,a._thumbsDrag=!1,a._controlNav.off(a._downEvent);else if(a.st.thumbs.navigation&&!a._thumbsNavigation&&(a._thumbsNavigation=!0,!a.hasTouch&&a.st.thumbs.drag||a.hasTouch&&a.st.thumbs.touch))a._thumbsDrag=!0,a._controlNav.on(a._downEvent,function(c){a._onDragStart(c,!0)});a._useCSS3Transitions&&(g[a._vendorPref+"transition-duration"]="0ms");a._thumbsContainer.css(g);if(a._thumbsEnabled&&(a.isFullscreen||a.st.thumbs.fitInViewport))a._thumbsHorizontal?
a._wrapHeight=a._realWrapSize-a._controlNav.outerHeight():a._wrapWidth=a._realWrapSize-a._controlNav.outerWidth()},setThumbsOrientation:function(a,c){this._thumbsEnabled&&(this.st.thumbs.orientation=a,this._controlNav.remove(),this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),this._createThumbs(),this._controlNav.off(this._downEvent),c||this.updateSliderSize(!0))},_setThumbsPosition:function(a){this._thumbsPosition=a;this._useCSS3Transitions?this._thumbsContainer.css(this._xProp,this._tPref1+
(this._thumbsHorizontal?a+this._tPref2+0:0+this._tPref2+a)+this._tPref3):this._thumbsContainer.css(this._thumbsHorizontal?this._xProp:this._yProp,a)},_animateThumbsTo:function(a,c,g,d,h){var b=this;if(b._thumbsNavigation){c||(c=b.st.thumbs.transitionSpeed);b._thumbsPosition=a;b._thumbsAnimTimeout&&clearTimeout(b._thumbsAnimTimeout);b._isThumbsAnimating&&(b._useCSS3Transitions||b._thumbsContainer.stop(),g=!0);var e={};b._isThumbsAnimating=!0;b._useCSS3Transitions?(e[b._vendorPref+"transition-duration"]=
c+"ms",e[b._vendorPref+"transition-timing-function"]=g?k.rsCSS3Easing[b.st.easeOut]:k.rsCSS3Easing[b.st.easeInOut],b._thumbsContainer.css(e),b._setThumbsPosition(a)):(e[b._thumbsHorizontal?b._xProp:b._yProp]=a+"px",b._thumbsContainer.animate(e,c,g?"easeOutCubic":b.st.easeInOut));d&&(b._thumbsPosition=d);b._updateThumbsArrows();b._thumbsAnimTimeout=setTimeout(function(){b._isThumbsAnimating=!1;h&&(b._animateThumbsTo(d,h,!0),h=null)},c)}},_updateThumbsArrows:function(){this._thumbsArrows&&(this._thumbsPosition===
this._thumbsMinPosition?this._thumbsArrowLeft.addClass("rsThumbsArrowDisabled"):this._thumbsArrowLeft.removeClass("rsThumbsArrowDisabled"),this._thumbsPosition===this._thumbsMaxPosition?this._thumbsArrowRight.addClass("rsThumbsArrowDisabled"):this._thumbsArrowRight.removeClass("rsThumbsArrowDisabled"))},_setCurrentThumb:function(a,c){var g,d=Math.floor(a/this._thumbGrid)*this._thumbSize+2*this._thumbSize-this._thumbsSpacing+this._thumbsMinPosition,h;this._thumbsNavigation&&(this._firstThumbMoved&&
(c=!0,this._firstThumbMoved=!1),d+this._thumbsPosition>this._thumbsViewportSize?g=this._thumbsViewportSize-d-this._thumbsSpacing+this._thumbsSpacing:0!==a?(d=Math.floor(a/this._thumbGrid)*this._thumbSize,h=this._thumbsMinPosition?-this._thumbsPosition+this._thumbSize+this._thumbsSpacing+this._thumbsMinPosition:-this._thumbsPosition+this._thumbSize+this._thumbsMinPosition,d<h&&a-this._thumbGrid<=this.numSlides-this._visibleThumbsPerView&&(g=-d+this._thumbSize+this._thumbsMinPosition)):g=this._thumbsMinPosition,
g!==this._thumbsPosition&&(d=void 0===g?this._thumbsPosition:g,d>this._thumbsMinPosition?this._setThumbsPosition(this._thumbsMinPosition):d<this._thumbsMaxPosition?this._setThumbsPosition(this._thumbsMaxPosition):void 0!==g&&(c?this._setThumbsPosition(g):this._animateThumbsTo(g))),this._updateThumbsArrows())}});k.rsModules.thumbnails=k.rsProto._initThumbs})(jQuery);
(function(k){k.extend(k.rsProto,{_initFullscreen:function(){var a=this;a._fullscreenDefaults={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0};a.st.fullscreen=k.extend({},a._fullscreenDefaults,a.st.fullscreen);if(a.st.fullscreen.enabled)a.ev.one("rsBeforeSizeSet",function(){a._setupFullscreen()})},_setupFullscreen:function(){var a=this;a._fsKeyboard=!a.st.keyboardNavEnabled&&a.st.fullscreen.keyboardNav;if(a.st.fullscreen.nativeFS){a._fullScreenApi={supportsFullScreen:!1,isFullScreen:function(){return!1},
requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};var c=["webkit","moz","o","ms","khtml"];if(!a.isAndroid)if("undefined"!=typeof document.cancelFullScreen)a._fullScreenApi.supportsFullScreen=!0;else for(var g=0;g<c.length;g++)if(a._fullScreenApi.prefix=c[g],"undefined"!=typeof document[a._fullScreenApi.prefix+"CancelFullScreen"]){a._fullScreenApi.supportsFullScreen=!0;break}a._fullScreenApi.supportsFullScreen?(a.nativeFS=!0,a._fullScreenApi.fullScreenEventName=
a._fullScreenApi.prefix+"fullscreenchange"+a.ns,a._fullScreenApi.isFullScreen=function(){switch(this.prefix){case "":return document.fullScreen;case "webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},a._fullScreenApi.requestFullScreen=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},a._fullScreenApi.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}):
a._fullScreenApi=!1}a.st.fullscreen.buttonFS&&(a._fsBtn=k('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(a._controlsContainer).on("click.rs",function(){a.isFullscreen?a.exitFullscreen():a.enterFullscreen()}))},enterFullscreen:function(a){var c=this;if(c._fullScreenApi)if(a)c._fullScreenApi.requestFullScreen(k("html")[0]);else{c._doc.on(c._fullScreenApi.fullScreenEventName,function(){c._fullScreenApi.isFullScreen()?c.enterFullscreen(!0):c.exitFullscreen(!0)});c._fullScreenApi.requestFullScreen(k("html")[0]);
return}if(!c._isFullscreenUpdating){c._isFullscreenUpdating=!0;c._doc.on("keyup"+c.ns+"fullscreen",function(a){27===a.keyCode&&c.exitFullscreen()});c._fsKeyboard&&c._bindKeyboardNav();a=k(window);c._fsScrollTopOnEnter=a.scrollTop();c._fsScrollLeftOnEnter=a.scrollLeft();c._htmlStyle=k("html").attr("style");c._bodyStyle=k("body").attr("style");c._sliderStyle=c.slider.attr("style");k("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"});c.slider.addClass("rsFullscreen");
var g;for(g=0;g<c.numSlides;g++)a=c.slides[g],a.isRendered=!1,a.bigImage&&(a.isBig=!0,a.isMedLoaded=a.isLoaded,a.isMedLoading=a.isLoading,a.medImage=a.image,a.medIW=a.iW,a.medIH=a.iH,a.slideId=-99,a.bigImage!==a.medImage&&(a.sizeType="big"),a.isLoaded=a.isBigLoaded,a.isLoading=!1,a.image=a.bigImage,a.images[0]=a.bigImage,a.iW=a.bigIW,a.iH=a.bigIH,a.isAppended=a.contentAdded=!1,c._updateItemSrc(a));c.isFullscreen=!0;c._isFullscreenUpdating=!1;c.updateSliderSize();c.ev.trigger("rsEnterFullscreen")}},
exitFullscreen:function(a){var c=this;if(c._fullScreenApi){if(!a){c._fullScreenApi.cancelFullScreen(k("html")[0]);return}c._doc.off(c._fullScreenApi.fullScreenEventName)}if(!c._isFullscreenUpdating){c._isFullscreenUpdating=!0;c._doc.off("keyup"+c.ns+"fullscreen");c._fsKeyboard&&c._doc.off("keydown"+c.ns);k("html").attr("style",c._htmlStyle||"");k("body").attr("style",c._bodyStyle||"");var g;for(g=0;g<c.numSlides;g++)a=c.slides[g],a.isRendered=!1,a.bigImage&&(a.isBig=!1,a.slideId=-99,a.isBigLoaded=
a.isLoaded,a.isBigLoading=a.isLoading,a.bigImage=a.image,a.bigIW=a.iW,a.bigIH=a.iH,a.isLoaded=a.isMedLoaded,a.isLoading=!1,a.image=a.medImage,a.images[0]=a.medImage,a.iW=a.medIW,a.iH=a.medIH,a.isAppended=a.contentAdded=!1,c._updateItemSrc(a,!0),a.bigImage!==a.medImage&&(a.sizeType="med"));c.isFullscreen=!1;a=k(window);a.scrollTop(c._fsScrollTopOnEnter);a.scrollLeft(c._fsScrollLeftOnEnter);c._isFullscreenUpdating=!1;c.slider.removeClass("rsFullscreen");c.updateSliderSize();setTimeout(function(){c.updateSliderSize()},
1);c.ev.trigger("rsExitFullscreen")}},_updateItemSrc:function(a){var c=!a.isLoaded&&!a.isLoading?'<a class="rsImg rsMainSlideImage" href="'+a.image+'"></a>':'<img class="rsImg rsMainSlideImage" src="'+a.image+'"/>';a.content.hasClass("rsImg")?a.content=k(c):a.content.find(".rsImg").eq(0).replaceWith(c);!a.isLoaded&&!a.isLoading&&a.holder&&a.holder.html(a.content)}});k.rsModules.fullscreen=k.rsProto._initFullscreen})(jQuery);
(function(k){k.extend(k.rsProto,{_initGlobalCaption:function(){var a=this;a.st.globalCaption&&(a.ev.on("rsAfterInit",function(){a.globalCaption=k('<div class="rsGCaption"></div>').appendTo(!a.st.globalCaptionInside?a.slider:a._sliderOverflow);a.globalCaption.html(a.currSlide.caption)}),a.ev.on("rsBeforeAnimStart",function(){a.globalCaption.html(a.currSlide.caption)}))}});k.rsModules.globalCaption=k.rsProto._initGlobalCaption})(jQuery);
